<!DOCTYPE html>
<html>
    <head>
        <title>Upgraded Car Rentals</title>
        <script>
            var luxuryCars = {
            "name": "Luxury Cars",
            "beemersAvail": 27,
            "roversAvail": 18,
            "bentsAvail": 11,
            "beemersBooked": 18,
            "roversBooked": 9,
            "bentsBooked": 2,
            "carTypes": [{
                "type": "2017 BMW 7-Series",
                "dailyPrice": "BMWs cost $153.00/per day"
            },
            {
                "type": "2018 Range Rover",
                "dailyPrice": "Range Rovers cost $250.00/per day"
            },
            {
                "type": "2017 Bentley Bentayga",
                "dailyPrice": "Bentleys cost $370.00/per day"
            }],
        };
        var renter = {
            theRenters: []
            };
        document.getElementById("rentButton").onclick=function(){
            var renterName = document.getElementById("renterInfo").value;
            var rentedCar = document.getElementById("inCarLot").value;
            console.log(renterName, rentedCar);
        } 
        
        function dropDownCarSelections() {
            var carChosenByUserFromDropDown = document.getElementById("inCarLot").value;
            if (carChosenByUserFromDropDown === "2017 BMW 7-Series"){
                document.getElementById("types").innerHTML=luxuryCars.carTypes[0].type;
                document.getElementById("numAvail").innerHTML=luxuryCars.beemersAvail--;
                document.getElementById("carPrice").innerHTML=luxuryCars.carTypes[0].dailyPrice;
            } else if (carChosenByUserFromDropDown === "2018 Range Rover"){
                document.getElementById("types").innerHTML=luxuryCars.carTypes[1].type;
                document.getElementById("numAvail").innerHTML=luxuryCars.roversAvail--;
                document.getElementById("carPrice").innerHTML=luxuryCars.carTypes[1].dailyPrice;
            } else if (carChosenByUserFromDropDown === "2017 Bentley Bentayga"){
                document.getElementById("types").innerHTML=luxuryCars.carTypes[2].type;
                document.getElementById("numAvail").innerHTML=luxuryCars.bentsAvail--;
                document.getElementById("carPrice").innerHTML=luxuryCars.carTypes[2].dailyPrice;
            }
        };
        function infoNotEntered(){
             var rentMe = document.getElementById("inCarLot").value;
             var renterName=document.getElementById("renterInfo").value;
             if (rentMe === "blank" || renterName === ""){
                 alert("Please enter missing information");
             }
        };
        
        function rentCar(){
             var carChosenByUserFromDropDown = document.getElementById("inCarLot").value;
             var renterName = document.getElementById("renterInfo").value;
             if (carChosenByUserFromDropDown === "2017 BMW 7-Series"){
                 document.getElementById("numAvail").innerHTML=luxuryCars.beemersAvail--;
             } else if (carChosenByUserFromDropDown === "2018 Range Rover") {
                 document.getElementById("numAvail").innerHTML=luxuryCars.roversAvail--;
             } else if (carChosenByUserFromDropDown === "2017 Bentley Bentayga") {
                 document.getElementById("numAvail").innerHTML=luxuryCars.bentsAvail--;
             } else if (renterName.length >0 && carChosenByUserFromDropDown !== "blank") {
                 renter.theRenters.push({theRenter: renterName, carRented: carChosenByUserFromDropDown
                 });
             }
             document.getElementById("finalRent").innerHTML="Great choice " + renterName + ", the " + carChosenByUserFromDropDown + " is a great car. Thank you for your order!"
        };
        </script>
        
    </head>
    
    <body>
        <div>
            <form id="renterForm">
                <fieldset>
                    <legend>Your Reservation</legend>
                    <div>
                        <label>Renter Name: </label>
                        <input id="renterInfo" name="formInput" type="text" placeholder="Enter Your Name Here" pattern="[a-zA-Z]" required>
                    </div>
                    <div>
                        <label>Car Type: </label>
                        <select id="inCarLot" onchange="dropDownCarSelections()" required>
                            <option value="blank">Select Your Car</option>
                            <option value="2017 BMW 7-Series">2017 BMW 7-Series</option>
                            <option value="2018 Range Rover">2018 Range Rover</option>
                            <option value="2017 Bentley Bentayga">2017 Bentley Bentayga</option>
                        </select>
                    </div>
                </fieldset>
            </form>
        </div>
        
        <h1>Luxury Car Rentals</h1>
        
        <!--All Car Details-->
        <h2>Car Type</h2>
        <p id="types"> </p>
        <h2>Availability</h2>
        <p id="numAvail"></p>
        <h2>Price</h2>
        <p id="carPrice"></p>
        
        <button id="rentCarButton" onclick="infoNotEntered(); rentCar()">Rent This Car Now</button>
        <div>
            <p id="finalRent"></p>
        </div>
    </body>
    
</html>

